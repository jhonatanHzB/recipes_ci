const recipeContainer=document.getElementById("recipe_container"),recipeTemplate=document.getElementById("recipe_template").content.firstElementChild,recipeBookmark=document.getElementById("recipe_bookmark"),elementForPage=10;let page=1,recipes=[],baseURL="";function initRecipes(e,r){baseURL=r,recipes=[...e],0===recipes.length?document.querySelector(".recipe_message_error").innerHTML='<p class="h2 text-center my-10">No se encontraron recetas, con el parámetro de búsqueda</p>':(render(),watchMarker())}function watchMarker(){new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&loadRecipes()}))})).observe(recipeBookmark)}function loadRecipes(){page+=1,render()}function getRecipeSlice(e=1){const r=10*(e-1),t=r+10;return recipes.slice(r,t)}function render(){getRecipeSlice(page).forEach((e=>{const r=recipeTemplate.cloneNode(!0),t=r.querySelector("#recipe_url"),c=r.querySelector("#recipe_image"),n=r.querySelector("#recipe_raiting"),i=r.querySelector("#recipe_difficulty"),a=r.querySelector("#recipe_title"),o=r.querySelector("#recipe_author"),s=r.querySelector("#recipe_calories");t.href=`${baseURL}/receta/${e.slug}`,c.classList.add("loading");const l=new Image;l.src=`${baseURL}assets/img/recipes/${e.image}`,l.onload=()=>{c.style.backgroundImage=`url('${l.src}')`,c.classList.remove("loading")},n.innerHTML=getStars(e.rating),i.innerHTML=e.difficulty,a.innerHTML=e.name,o.innerHTML="Chef Ana Paula",s.innerHTML=`${e.calories} Calorías`,recipeContainer.appendChild(r)}))}function getStars(e){const r=Math.floor(e);return Array.from({length:5},((e,t)=>t<r?'<i class="fas fa-star star star-selected"></i>':'<i class="fas fa-star star"></i>')).join("")}