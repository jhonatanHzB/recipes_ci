{"version":3,"names":["baseURL","startLoading","loadingScreen","document","getElementById","body","classList","contains","add","stopLoading","remove","addEventListener","carouselContainer","querySelector","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","async","response","fetch","items","json","innerHTML","item","div","createElement","slug","image","name","appendChild","$","slick","dots","infinite","speed","slidesToShow","adaptiveHeight","error","console","loadCarouselItems","then","disconnect","threshold","observe","carouselAllCategoriesWrapper","categoriesObserver","categories","seasonMenu","holidayMenu","divAllRecipe","style","height","category","menu","Flickity","pageDots","cellAlign","wrapAround","imagesLoaded","autoPlay","loadCarouselCategories","window"],"sources":["app.js"],"sourcesContent":["const baseURL = 'http://localhost:8080/recipes_ci';\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Parar loader\n    stopLoading();\n\n    // Obtenemos el contenedor del carousel\n    const carouselContainer = document.querySelector('.carousel-home');\n\n    if (!carouselContainer) return;\n\n    // Función para cargar los elementos del carousel\n    const loadCarouselItems = async () => {\n        startLoading();\n\n        try {\n            const response = await fetch(baseURL + '/api/carousel');\n            const items = await response.json();\n\n            // Limpiamos el contenedor actual\n            carouselContainer.innerHTML = '';\n\n            // Creamos y añadimos los elementos del carousel\n            items.forEach(item => {\n                const div = document.createElement('div');\n                div.innerHTML = `\n                    <a href=\"${baseURL}/receta/${item.slug}\">\n                        <img src=\"${baseURL}/assets/img/recipes/${item.image}\" class=\"img-fluid\" alt=\"${item.name}\">\n                        <h3 class=\"text-center mt-2\">${item.name}</h3>\n                    </a>\n                `;\n                carouselContainer.appendChild(div);\n            });\n\n            // Inicializamos el slider (asumiendo que usas Slick)\n            $(carouselContainer).slick({\n                dots: true,\n                infinite: true,\n                speed: 300,\n                slidesToShow: 1,\n                adaptiveHeight: false,\n            });\n        } catch (error) {\n            console.error('Error al cargar los elementos del carousel:', error);\n        }\n    };\n\n    // Creamos el observer\n    const observer = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                loadCarouselItems().then(() => {\n                    stopLoading();\n                });\n                // Desconectamos el observer después de cargar\n                observer.disconnect();\n            }\n        });\n    }, {\n        threshold: 0.1 // El carousel será cargado cuando al menos el 10% sea visible\n    });\n\n    // Comenzamos a observar el contenedor del carousel\n    observer.observe(carouselContainer);\n\n    // Obtener los contenedores del carousel con todas las categorías\n    const carouselAllCategoriesWrapper = document.getElementById('carouselAllCategoriesWrapper');\n\n    if (!carouselAllCategoriesWrapper) return;\n\n    const loadCarouselCategories = async () => {\n        startLoading();\n\n        try {\n            const response = await fetch(baseURL + '/api/all-categories-carousel');\n            const items = await response.json();\n\n            // Limpiamos el contenedor actual\n            carouselAllCategoriesWrapper.innerHTML = '';\n\n            const categories = items.categories;\n            const seasonMenu = items.seasonMenu;\n            const holidayMenu = items.holidayMenu;\n\n            const divAllRecipe = document.createElement('div');\n            divAllRecipe.classList.add('d-block', 'col-12', 'col-md-2', 'px-3');\n            divAllRecipe.style.height = '165px';\n            divAllRecipe.innerHTML = `\n                <a href=\"${baseURL}/recetas\">\n                    <img\n                            src=\"${baseURL}/assets/img/categories/chef_ana_paula.png\"\n                            class=\"img-fluid\"\n                            alt=\"Recetario completo\"\n                    />\n                    <p class=\"text-center mt-1 h6\">Recetario completo</p>\n                </a>\n            `;\n            carouselAllCategoriesWrapper.appendChild(divAllRecipe);\n\n            // Creamos y añadimos los elementos de las categorías\n            categories.forEach(category => {\n                const div = document.createElement('div');\n                div.classList.add('d-block', 'col-12', 'col-md-2', 'px-3');\n                div.style.height = '150px';\n                div.innerHTML = `\n                    <a href=\"${baseURL}/recetas/${category.slug}\">\n                        <img\n                            src=\"${baseURL}/assets/img/categories/${category.image}\"\n                            class=\"img-fluid\"\n                            alt=\"${category.name}\"\n                        />\n                        <p class=\"text-center mt-1 h6\">${category.name}</p>\n                </a>`;\n                carouselAllCategoriesWrapper.appendChild(div);\n            });\n\n            // Creamos y añadimos los elementos del menú de temporada\n            seasonMenu.forEach(menu => {\n                const div = document.createElement('div');\n                div.classList.add('d-block', 'col-12', 'col-md-2', 'px-3');\n                div.style.height = '165px';\n                div.innerHTML = `\n                    <a href=\"${baseURL}/recetas/${menu.slug}\">\n                        <img\n                            src=\"${baseURL}/assets/img/menus/${menu.image}\"\n                            class=\"img-fluid\"\n                            alt=\"${menu.name}\"\n                        />\n                        <p class=\"text-center mt-1 h6\">${menu.name}</p>\n                </a>`;\n                carouselAllCategoriesWrapper.appendChild(div);\n            });\n\n            // Creamos y añadimos los elementos del menú día festivo\n            holidayMenu.forEach(menu => {\n                const div = document.createElement('div');\n                div.classList.add('d-block', 'col-12', 'col-md-2', 'px-3');\n                div.style.height = '165px';\n                div.innerHTML = `\n                    <a href=\"${baseURL}/recetas/${menu.slug}\">\n                        <img\n                            src=\"${baseURL}/assets/img/menus/${menu.image}\"\n                            class=\"img-fluid\"\n                            alt=\"${menu.name}\"\n                        />\n                        <p class=\"text-center mt-1 h6\">${menu.name}</p>\n                </a>`;\n                carouselAllCategoriesWrapper.appendChild(div);\n            });\n\n            const flkty = new Flickity('#carouselAllCategoriesWrapper', {\n                pageDots: false,\n                cellAlign: 'left',\n                wrapAround: true,\n                imagesLoaded: true,\n                autoPlay: 2500\n            });\n\n        } catch (error) {\n            console.error('Error al cargar los elementos de las categorías:', error);\n        }\n    }\n\n    // Creamos el observer para el carousel de categorías\n    const categoriesObserver = new IntersectionObserver((entries) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                loadCarouselCategories().then(() => {\n                    stopLoading();\n                });\n                // Desconectamos el observer después de cargar\n                categoriesObserver.disconnect();\n            }\n        });\n    }, {\n        threshold: 0.1 // El carousel será cargado cuando al menos el 10% sea visible\n    });\n\n    // Comenzamos a observar el contenedor del carousel de categorías\n    categoriesObserver.observe(carouselAllCategoriesWrapper);\n});\n\nfunction startLoading() {\n    const loadingScreen = document.getElementById('loading-screen');\n    const body = document.body;\n    if (loadingScreen.classList.contains('active')) return;\n    loadingScreen.classList.add('active');\n    body.classList.add('loading');\n}\n\nfunction stopLoading() {\n    const loadingScreen = document.getElementById('loading-screen');\n    const body = document.body;\n    if (!loadingScreen.classList.contains('active')) return;\n    loadingScreen.classList.remove('active');\n    body.classList.remove('loading');\n}\n\nwindow.startLoading = startLoading;\nwindow.stopLoading = stopLoading;"],"mappings":"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","ignoreList":[]}